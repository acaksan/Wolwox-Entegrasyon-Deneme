### ğŸš€ Wolvox-WooCommerce Entegrasyonu - GÃ¼venlik ve Yetkilendirme StandartlarÄ±

Bu belge, **veri gÃ¼venliÄŸi, kullanÄ±cÄ± yetkilendirme sÃ¼reÃ§leri ve API gÃ¼venlik politikalarÄ±nÄ±** belirler. **TÃ¼m sistem gÃ¼venlik Ã¶nlemleri en Ã¼st seviyede olmalÄ±dÄ±r.**

---

## ğŸ“Œ 1. Genel GÃ¼venlik KurallarÄ±
âœ” **TÃ¼m sistem giriÅŸleri ve hassas iÅŸlemler iÃ§in kimlik doÄŸrulama gereklidir.**
âœ” **Veri ÅŸifreleme (encryption) standart hale getirilmelidir.**
âœ” **Yetkilendirme ve eriÅŸim kontrolÃ¼ aÃ§Ä±kÃ§a tanÄ±mlanmalÄ±dÄ±r.**
âœ” **GÃ¼venlik aÃ§Ä±klarÄ± dÃ¼zenli olarak test edilmelidir.**
âœ” **API anahtarlarÄ± ve hassas veriler `.env` dosyasÄ±nda saklanmalÄ±dÄ±r.**

---

## ğŸ“Œ 2. Kimlik DoÄŸrulama (Authentication)
âœ” **JWT (JSON Web Token) kullanÄ±lmalÄ±dÄ±r.**
âœ” **KullanÄ±cÄ± giriÅŸleri iÃ§in e-posta doÄŸrulama zorunlu olmalÄ±dÄ±r.**
âœ” **KullanÄ±cÄ± giriÅŸ denemeleri sÄ±nÄ±rlandÄ±rÄ±lmalÄ±dÄ±r (Rate Limiting).**
âœ” **Åifreler `bcrypt` veya `argon2` ile hashlenmelidir.**
âœ” **Ã‡ok faktÃ¶rlÃ¼ kimlik doÄŸrulama (2FA) desteklenmelidir.**

ğŸ“Œ **Ã–rnek KullanÄ±cÄ± Åifre Hashleme:**
```python
from passlib.hash import bcrypt

def hash_password(password):
    return bcrypt.hash(password)

def verify_password(password, hashed):
    return bcrypt.verify(password, hashed)
```

ğŸ“Œ **Ã–rnek JWT Token OluÅŸturma:**
```python
import jwt
import datetime
import os

def create_jwt(user_id):
    payload = {
        "user_id": user_id,
        "exp": datetime.datetime.utcnow() + datetime.timedelta(days=1)
    }
    return jwt.encode(payload, os.getenv("JWT_SECRET"), algorithm="HS256")
```

---

## ğŸ“Œ 3. Yetkilendirme (Authorization)
âœ” **Her kullanÄ±cÄ± rol bazlÄ± yetkilendirme ile yÃ¶netilmelidir.**
âœ” **Admin ve normal kullanÄ±cÄ± yetkileri ayrÄ±lmalÄ±dÄ±r.**
âœ” **Hassas endpoint'ler ek gÃ¼venlik kontrollerine sahip olmalÄ±dÄ±r.**

ğŸ“Œ **Ã–rnek Yetkilendirme Middleware:**
```python
from flask import request, jsonify
import jwt
import os

def admin_required(f):
    def wrapper(*args, **kwargs):
        token = request.headers.get("Authorization")
        if not token:
            return jsonify({"error": "Yetkisiz eriÅŸim"}), 403
        try:
            decoded = jwt.decode(token, os.getenv("JWT_SECRET"), algorithms=["HS256"])
            if decoded.get("role") != "admin":
                return jsonify({"error": "Yetkisiz eriÅŸim"}), 403
        except jwt.ExpiredSignatureError:
            return jsonify({"error": "Token sÃ¼resi doldu"}), 403
        return f(*args, **kwargs)
    return wrapper
```

---

## ğŸ“Œ 4. API GÃ¼venliÄŸi
âœ” **API eriÅŸimleri `OAuth2` veya `JWT` ile doÄŸrulanmalÄ±dÄ±r.**
âœ” **TÃ¼m API Ã§aÄŸrÄ±larÄ± HTTPS Ã¼zerinden yapÄ±lmalÄ±dÄ±r.**
âœ” **Cross-Site Scripting (XSS) ve SQL Injection saldÄ±rÄ±larÄ±na karÅŸÄ± Ã¶nlem alÄ±nmalÄ±dÄ±r.**
âœ” **CORS (Cross-Origin Resource Sharing) politikalarÄ± tanÄ±mlanmalÄ±dÄ±r.**
âœ” **Rate Limiting uygulanmalÄ±dÄ±r (Ã¶rn: 100 istek/dakika).**

ğŸ“Œ **Ã–rnek Rate Limiting KullanÄ±mÄ± (Flask-Limiter):**
```python
from flask_limiter import Limiter
from flask_limiter.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)

@app.route("/secure-endpoint")
@limiter.limit("10 per minute")
def secure_resource():
    return {"message": "Bu API'yi kullanmak iÃ§in yetkiniz var."}
```

---

## ğŸ“Œ 5. Veri Åifreleme (Encryption)
âœ” **Hassas veriler AES-256 ile ÅŸifrelenmelidir.**
âœ” **ÅifrelenmiÅŸ veriler yalnÄ±zca yetkili kullanÄ±cÄ±lar tarafÄ±ndan eriÅŸilebilir olmalÄ±dÄ±r.**
âœ” **Kredi kartÄ± ve Ã¶deme bilgileri gibi veriler sistemde saklanmamalÄ±dÄ±r.**

ğŸ“Œ **Ã–rnek AES-256 Åifreleme:**
```python
from Crypto.Cipher import AES
import base64
import os

def encrypt_data(data, key):
    cipher = AES.new(key.encode(), AES.MODE_EAX)
    ciphertext, tag = cipher.encrypt_and_digest(data.encode())
    return base64.b64encode(cipher.nonce + ciphertext).decode()
```

---

## ğŸ“Œ 6. GÃ¼nlÃ¼kleme ve GÃ¼venlik Ä°zleme
âœ” **TÃ¼m gÃ¼venlik olaylarÄ± `logs/security.log` dosyasÄ±na yazÄ±lmalÄ±dÄ±r.**
âœ” **Yetkisiz eriÅŸim denemeleri kaydedilmeli ve yÃ¶neticilere bildirilmelidir.**
âœ” **Sistem, saldÄ±rÄ± giriÅŸimlerini tespit etmek iÃ§in IDS (Intrusion Detection System) entegrasyonu saÄŸlamalÄ±dÄ±r.**

ğŸ“Œ **Ã–rnek GÃ¼venlik Loglama:**
```python
import logging

logging.basicConfig(filename='logs/security.log', level=logging.WARNING,
                    format='%(asctime)s - %(levelname)s - %(message)s')

def log_security_event(event_type, message):
    logging.warning(f"{event_type}: {message}")
```

---

Bu belge **katÄ± kurallar iÃ§ermektedir** ve **bu kurallara uyulmadan gÃ¼venlik sistemi yapÄ±landÄ±rÄ±lamaz.** ğŸš€

